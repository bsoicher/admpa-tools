<!DOCTYPE html>
<html lang="en">

<head>
  <title>General &gt; Video Player</title>

  <!-- Speed optimization -->
  <link rel="dns-prefetch" href="https://www.canada.ca">

  <!-- Meta -->
  <meta charset="utf-8" />
  <meta name="author" content="Ben Soicher" />

  <!-- Styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/utf8/3.0.0/utf8.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>

</head>

<body id="body">
  <div class="container">
    <h1 class="h4 mt-5">
      <a href="../index.html">ADMPA Web Tools</a>
      <small class="text-muted">&gt; Other &gt; Video Player</small>
      <span class="badge badge-warning">Under Development</span>
    </h1>

    <a href="?test">Test</a>
  </div>
</body>

<script>
  // Force 1 minute cache
  (function (s) {
    var t = new Date().setSeconds(0, 0).toString()
    if (!s) {
      window.location = '?_=' + t
    } else {
      var m = s.match(/[?&]_=(\d+)/)
      if (!m) {
        window.location = s + '&_=' + t
      } else if (m[1] !== t) {
        window.location = s.replace(/([?&]_)=(\d+)/, '$1=' + t)
      }
    }
  })(window.location.search)

  $(document).on('click', 'a', function (e) {
    if (this.href.indexOf(window.location.pathname) > -1) {
      this.href = this.href + (this.href.indexOf('?') > -1 ? '&_=' : '?_=') + new Date().setSeconds(0, 0).toString()
    }
  })

  // Use URL params to filter the table
  function applyParams(api) {
    var vars = getUrlVars()
    var q = vars['q']
    var c = vars['c']

    if (c) {
      if (/^(defence|defense)$/.test(c)) {
        c = 'ml'
      } else if (c && /^(rcn|mrc)$/.test(c)) {
        c = 'rcn'
      } else if (/^(ca|army|arm√©e)$/.test(c)) {
        c = '^ca'
      } else if (/^(rcaf|arc)$/.test(c)) {
        c = 'rcaf'
      } else {
        c = ''
      }
    } else if (!c && !q) {
      c = 'ml'
    }

    if (c) { api.column(0).search(c, true, false) }
    if (q) { api.search(q) }
    if (c || q) { api.draw() }
  }

</script>

</html>